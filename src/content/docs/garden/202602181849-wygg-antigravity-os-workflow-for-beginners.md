---
created: '2026-02-18 18:49:50'
date: 2026-02-18
slug: 202602181849-wygg-antigravity-os-workflow-for-beginners
tags:
- Tutorial
- DigitalGarden
- Antigravity
title: 🚀 Antigravity OS：一本笔记如何变成一个网站？
ts: 1771411790
updated: '2026-02-18 19:00:01'
---

# 🚀 Antigravity OS：一本笔记如何变成一个网站？
> **—— 面向“小白”的数字生命发布流水线全解析**

如果你把发布网站比作“开一家餐馆并送外卖”，那么这个流程就像下面这样一步步发生的：

---

### 第一步：食材生产 (Writing)
*   **你在哪：** Obsidian
*   **动作：** 写下一篇日记。
*   **关键开关：** 在笔记末尾打上 `#public` 标签。
*   **背后机制：** 这一步是**数据生产**。打上标签相当于给这块食材贴上了一个“允许外送”的标签。如果不打，这篇日记就永远锁在你本地的保险柜（私有库）里。

### 第二步：厨余处理与食材清洗 (Syncing)
*   **命令：** `python scripts/sync_garden.py`
*   **参与程序：** **Python (脚本)**
*   **它的作用：** 
    1.  **过滤**：它像个安检员，只把带 `#public` 的文件挑出来。
    2.  **清洗 (Sanitization)**：它发现你的文件名是中文（比如 `我的日记.md`），这对网址（URL）极不友好。它会根据你在笔记里写的 `slug`（比如 `my-diary`）给文件改个干净的英文名。
    3.  **搬运**：它把清洗好的文件，从你的思考区搬到“待出餐区”：`800_Digital_Garden (Output)/src/content/garden`。

### 第三步：本地试菜 (Local Preview)
*   **命令：** `npm run dev`
*   **参与程序：** **Astro (开发服务器)**
*   **它的作用：** 
    *   这是你的“内部厨房预览”。它在你的电脑里开了一个小窗口（localhost:4323）。
    *   **实时翻译**：它把你写的 Markdown 文本实时变成网页代码。你改一个字，预览窗口就跳一下。

### 第四步：装箱发货 (Shipping)
*   **命令：** `git add .` -> `git commit` -> `git push`
*   **参与程序：** **Git (版本控制)**
*   **它的作用：** 
    *   这就像给你的食材包（源代码）打上防伪封条，并装上一辆快递卡车。
    *   `push` 命令就是按下“发货”按钮，把这一箱**原始食材**送到了名为 **GitHub** 的云端仓库。
    *   **注意**：你发出去的是“菜谱和食材”（源码），而不是做好的“熟菜”（网页）。

### 第五步：云端后厨现场烹饪 (Building)
*   **发生了什么：** 自动触发，无需你干活。
*   **参与程序：** **Vercel (托管平台) 及其机房里的 Astro**
*   **背后机制：**
    1.  **Webhook**：GitHub 收到货后，立刻给 **Vercel** 打电话：“wygg 发新食材过来了！”
    2.  **构建 (Build)**：Vercel 立刻在它的云端后厨启动 **Astro (主厨)**。
    3.  **生成 `dist`**：Astro 按照你的源码，在云端疯狂工作，生成了一堆压缩好的、极速的网页文件，存放在一个叫 **`dist`** 的箱子里。

### 第六步：全球开席 (Serving)
*   **发生了什么：** 瞬间完成。
*   **参与程序：** **Vercel 全球网络**
*   **它的作用：** 
    *   Vercel 把那个 `dist` 箱子里的网页，分发到全世界的服务器。
    *   现在，任何人访问你的域名，都能看到那盘经过层层加工、精美呈现的“数字日记”了。

---

### � 遗失的环节：为什么我本地也会出现一个 `dist` 文件夹？

虽然 Vercel 会在云端生成它，但你有时也会在本地看到它。它的存在有三个重要目的：

1.  **“模拟考”与“预演” (Local Verification)**:
    *   `npm run dev` 只是在“厨房试味道”。
    *   当你运行 `npm run build`，Astro 会在本地生成 `dist`。这才是“正式出餐”。
    *   配合 `npm run preview` 命令，你可以像真实用户一样，在发布前最后检查一遍：**“所有的链接都跳得转吗？图片都能显示吗？”**

2.  **“性能检查” (Optimization Check)**:
    *   `dist` 里的 HTML、CSS 和图片是经过压缩和打包的。
    *   你可以打开这个文件夹，看看生成的网页体积是不是足够小，代码是不是足够干净。

3.  **“排错基地” (Troubleshooting)**:
    *   如果云端的 Vercel 报错了，你可以在本地删掉 `dist` 重新 Build 一次。如果本地 `dist` 能成功生成，说明你的代码没问题，可能是云端配置有问题。

**💡 记住一点：** 本地的 `dist` 就像是你的**出厂自检样件**。虽然它是成品，但你不需要寄给任何人，因为老板（Vercel）手里有一模一样的生产手册，它会自己生产一份全新的。

---

### �💡 核心全景记忆表

| 环节 | 对应工具 | 它的身份 | 为什么需要它？ |
| :--- | :--- | :--- | :--- |
| **写作者** | Obsidian | 笔 & 笔记本 | 承载你的思考原稿。 |
| **搬运工** | `sync_garden.py` | 清洗工 & 快递员 | 解决中文文件名导致的乱码，物理隔离私密与公开。 |
| **版本库** | Git / GitHub | 时空胶囊 & 保管室 | 记录你的每一版本，作为云端发布的原材料。 |
| **主厨** | **Astro** | 翻译官 & 构建器 | 把人类读的笔记，翻译成机器读的网页 (`dist`)。 |
| **大管家** | **Vercel** | 场地 & 自动化工厂 | 提供地盘，自动盯着 GitHub 并在你需要时干活。 |

---

### ⚠️ 老手绝招：
**“我改了日记，网页怎么还没变？”**
请自查：
1.  **标签**：我有写 `#public` 吗？
2.  **同步**：我有跑 `python scripts/sync_garden.py` 吗？
3.  **发货**：我有 `git push` 吗？
4.  **后厨**：Vercel 正在 Build (通常需要 1 分钟) 吗？

#public